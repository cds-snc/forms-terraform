#!/bin/bash

echo '{
  "Records": [
    {
      "eventID": "c4ca4238a0b923820dcc509a6f75849b",
      "eventName": "INSERT",
      "eventVersion": "1.1",
      "eventSource": "aws:dynamodb",
      "awsRegion": "us-east-1",
      "dynamodb": {
        "Keys": {
          "Id": {
            "N": "101"
          }
        },
        "NewImage": {
          "FormID": {
            "S": "clmqej5xf0002mi8krkfmim02"
          },
          "NAME_OR_CONF": {
            "S": "NAME#19-09-0043"
          },
          "ConfirmationCode": {
            "S": "fb303d9e-3afd-4ef3-bfd8-fc4596f70223"
          },
          "CreatedAt": {
            "N": "1695139169449"
          },
          "FormSubmission": {
            "S": "{\"1\":\"\"}"
          },
          "FormSubmissionLanguage": {
            "S": "en"
          },
          "Name": {
            "S": "19-09-0043"
          },
          "SecurityAttribute": {
            "S": "Protected A"
          },
          "Status": {
            "S": "New"
          },
          "FormSubmissionHash": {
            "S": "ce92c299bb5d344bdac1f9c03396b34f"
          }
        },
        "ApproximateCreationDateTime": 1428537600,
        "SequenceNumber": "4421584500000000017450439091",
        "SizeBytes": 26,
        "StreamViewType": "NEW_AND_OLD_IMAGES"
      },
      "eventSourceARN": "arn:aws:dynamodb:us-east-1:123456789012:table/ExampleTableWithStream/stream/2015-06-27T00:48:05.899"
    },
    {
      "eventID": "c4ca4238a0b923820dcc509a6f75849b",
      "eventName": "INSERT",
      "eventVersion": "1.1",
      "eventSource": "aws:dynamodb",
      "awsRegion": "us-east-1",
      "dynamodb": {
        "Keys": {
          "Id": {
            "N": "101"
          }
        },
        "NewImage": {
          "FormID": {
            "S": "clmqej5xf0002mi8krkfmim02"
          },
          "NAME_OR_CONF": {
            "S": "NAME#19-09-0043"
          },
          "ConfirmationCode": {
            "S": "fb303d9e-3afd-4ef3-bfd8-fc4596f70223"
          },
          "CreatedAt": {
            "N": "1695139169449"
          },
          "FormSubmission": {
            "S": "{\"1\":\"\"}"
          },
          "FormSubmissionLanguage": {
            "S": "en"
          },
          "Name": {
            "S": "19-09-0043"
          },
          "SecurityAttribute": {
            "S": "Protected A"
          },
          "Status": {
            "S": "New"
          },
          "SubmissionID": {
            "S": "0043b060-73e4-4246-9b81-719156aft002"
          }
        },
        "ApproximateCreationDateTime": 1428537600,
        "SequenceNumber": "4421584500000000017450439091",
        "SizeBytes": 26,
        "StreamViewType": "NEW_AND_OLD_IMAGES"
      },
      "eventSourceARN": "arn:aws:dynamodb:us-east-1:123456789012:table/ExampleTableWithStream/stream/2015-06-27T00:48:05.899"
    },
    {
      "eventID": "c4ca4238a0b923820dcc509a6f75849b",
      "eventName": "INSERT",
      "eventVersion": "1.1",
      "eventSource": "aws:dynamodb",
      "awsRegion": "us-east-1",
      "dynamodb": {
        "Keys": {
          "Id": {
            "N": "101"
          }
        },
        "NewImage": {
          "FormID": {
            "S": "clmqej5xf0002mi8krkfmim02"
          },
          "NAME_OR_CONF": {
            "S": "NAME#19-09-0043"
          },
          "ConfirmationCode": {
            "S": "fb303d9e-3afd-4ef3-bfd8-fc4596f70223"
          },
          "CreatedAt": {
            "N": "1695139169449"
          },
          "FormSubmission": {
            "S": "{\"1\":\"\"}"
          },
          "FormSubmissionLanguage": {
            "S": "en"
          },
          "Name": {
            "S": "19-09-0043"
          },
          "SecurityAttribute": {
            "S": "Protected A"
          },
          "Status": {
            "S": "New"
          },
          "SubmissionID": {
            "S": "0043b060-73e4-4246-9b81-719156aft003"
          },
          "FormSubmissionHash": {
            "S": "ce92c299bb5d344bdac1f9c03396b34f"
          }
        },
        "ApproximateCreationDateTime": 1428537600,
        "SequenceNumber": "4421584500000000017450439091",
        "SizeBytes": 26,
        "StreamViewType": "NEW_AND_OLD_IMAGES"
      },
      "eventSourceARN": "arn:aws:dynamodb:us-east-1:123456789012:table/ExampleTableWithStream/stream/2015-06-27T00:48:05.899"
    },
    {
      "eventID": "c4ca4238a0b923820dcc509a6f75849b",
      "eventName": "INSERT",
      "eventVersion": "1.1",
      "eventSource": "aws:dynamodb",
      "awsRegion": "us-east-1",
      "dynamodb": {
        "Keys": {
          "Id": {
            "N": "101"
          }
        },
        "NewImage": {
          "FormID": {
            "S": "clmqej5xf0002mi8krkfmim02"
          },
          "NAME_OR_CONF": {
            "S": "NAME#19-09-0043"
          },
          "ConfirmationCode": {
            "S": "fb303d9e-3afd-4ef3-bfd8-fc4596f70223"
          },
          "CreatedAt": {
            "N": "1695139169449"
          },
          "FormSubmission": {
            "S": "{\"1\":\"\"}"
          },
          "FormSubmissionLanguage": {
            "S": "en"
          },
          "Name": {
            "S": "19-09-0043"
          },
          "SecurityAttribute": {
            "S": "Protected A"
          },
          "Status": {
            "S": "New"
          },
          "SubmissionID": {
            "S": "0043b060-73e4-4246-9b81-719156aft004"
          },
          "FormSubmissionHash": {
            "S": "2fbb7a546472fd0c765ec9bb3b727c6e"
          }
        },
        "ApproximateCreationDateTime": 1428537600,
        "SequenceNumber": "4421584500000000017450439091",
        "SizeBytes": 26,
        "StreamViewType": "NEW_AND_OLD_IMAGES"
      },
      "eventSourceARN": "arn:aws:dynamodb:us-east-1:123456789012:table/ExampleTableWithStream/stream/2015-06-27T00:48:05.899"
    },
    {
      "eventID": "c81e728d9d4c2f636f067f89cc14862c",
      "eventName": "MODIFY",
      "eventVersion": "1.1",
      "eventSource": "aws:dynamodb",
      "awsRegion": "us-east-1",
      "dynamodb": {
        "Keys": {
          "Id": {
            "N": "101"
          }
        },
        "NewImage": {
          "FormID": {
            "S": "clmqej5xf0002mi8krkfmim02"
          },
          "NAME_OR_CONF": {
            "S": "NAME#19-09-0043"
          },
          "ConfirmationCode": {
            "S": "fb303d9e-3afd-4ef3-bfd8-fc4596f70223"
          },
          "CreatedAt": {
            "N": "1695139169449"
          },
          "FormSubmission": {
            "S": "{\"1\":\"\"}"
          },
          "FormSubmissionLanguage": {
            "S": "en"
          },
          "Name": {
            "S": "19-09-0043"
          },
          "SecurityAttribute": {
            "S": "Protected A"
          },
          "Status": {
            "S": "New"
          },
          "SubmissionID": {
            "S": "0043b060-73e4-4246-9b81-719156aft005"
          }
        },
        "OldImage": {
          "FormID": {
            "S": "clmqej5xf0002mi8krkfmim02"
          },
          "NAME_OR_CONF": {
            "S": "NAME#19-09-0043"
          },
          "ConfirmationCode": {
            "S": "fb303d9e-3afd-4ef3-bfd8-fc4596f70223"
          },
          "CreatedAt": {
            "N": "1695139169449"
          },
          "FormSubmission": {
            "S": "{\"1\":\"\"}"
          },
          "FormSubmissionLanguage": {
            "S": "en"
          },
          "Name": {
            "S": "19-09-0043"
          },
          "SecurityAttribute": {
            "S": "Protected A"
          },
          "Status": {
            "S": "New"
          },
          "SubmissionID": {
            "S": "0043b060-73e4-4246-9b81-719156at005"
          }
        },
        "ApproximateCreationDateTime": 1428537600,
        "SequenceNumber": "4421584500000000017450439092",
        "SizeBytes": 59,
        "StreamViewType": "NEW_AND_OLD_IMAGES"
      },
      "eventSourceARN": "arn:aws:dynamodb:us-east-1:123456789012:table/ExampleTableWithStream/stream/2015-06-27T00:48:05.899"
    },
    {
      "eventID": "c81e728d9d4c2f636f067f89cc14862c",
      "eventName": "MODIFY",
      "eventVersion": "1.1",
      "eventSource": "aws:dynamodb",
      "awsRegion": "us-east-1",
      "dynamodb": {
        "Keys": {
          "Id": {
            "N": "101"
          }
        },
        "NewImage": {
          "FormID": {
            "S": "clmqej5xf0002mi8krkfmim02"
          },
          "NAME_OR_CONF": {
            "S": "NAME#19-09-0043"
          },
          "ConfirmationCode": {
            "S": "fb303d9e-3afd-4ef3-bfd8-fc4596f70223"
          },
          "CreatedAt": {
            "N": "1695139169449"
          },
          "FormSubmission": {
            "S": "{\"1\":\"\"}"
          },
          "FormSubmissionLanguage": {
            "S": "en"
          },
          "Name": {
            "S": "19-09-0043"
          },
          "SecurityAttribute": {
            "S": "Protected A"
          },
          "Status": {
            "S": "New"
          },
          "SubmissionID": {
            "S": "0043b060-73e4-4246-9b81-719156aft006"
          },
          "FormSubmissionHash": {
            "S": "ce92c299bb5d344bdac1f9c03396b34f"
          }
        },
        "OldImage": {
          "FormID": {
            "S": "clmqej5xf0002mi8krkfmim02"
          },
          "ConfirmationCode": {
            "S": "fb303d9e-3afd-4ef3-bfd8-fc4596f70223"
          },
          "CreatedAt": {
            "N": "1695139169449"
          },
          "FormSubmission": {
            "S": "{\"1\":\"\"}"
          },
          "FormSubmissionLanguage": {
            "S": "en"
          },
          "Name": {
            "S": "19-09-0043"
          },
          "SecurityAttribute": {
            "S": "Protected A"
          },
          "Status": {
            "S": "New"
          },
          "SubmissionID": {
            "S": "0043b060-73e4-4246-9b81-719156at006"
          },
          "FormSubmissionHash": {
            "S": "ce92c299bb5d344bdac1f9c03396b34f"
          }
        },
        "ApproximateCreationDateTime": 1428537600,
        "SequenceNumber": "4421584500000000017450439092",
        "SizeBytes": 59,
        "StreamViewType": "NEW_AND_OLD_IMAGES"
      },
      "eventSourceARN": "arn:aws:dynamodb:us-east-1:123456789012:table/ExampleTableWithStream/stream/2015-06-27T00:48:05.899"
    },
    {
      "eventID": "c81e728d9d4c2f636f067f89cc14862c",
      "eventName": "MODIFY",
      "eventVersion": "1.1",
      "eventSource": "aws:dynamodb",
      "awsRegion": "us-east-1",
      "dynamodb": {
        "Keys": {
          "Id": {
            "N": "101"
          }
        },
        "NewImage": {
          "FormID": {
            "S": "clmqej5xf0002mi8krkfmim02"
          },
          "NAME_OR_CONF": {
            "S": "NAME#19-09-0043"
          },
          "ConfirmationCode": {
            "S": "fb303d9e-3afd-4ef3-bfd8-fc4596f70223"
          },
          "FormSubmission": {
            "S": "{\"1\":\"\"}"
          },
          "FormSubmissionLanguage": {
            "S": "en"
          },
          "Name": {
            "S": "19-09-0043"
          },
          "SecurityAttribute": {
            "S": "Protected A"
          },
          "Status": {
            "S": "New"
          },
          "SubmissionID": {
            "S": "0043b060-73e4-4246-9b81-719156aft007"
          },
          "FormSubmissionHash": {
            "S": "ce92c299bb5d344bdac1f9c03396b34f"
          }
        },
        "OldImage": {
          "FormID": {
            "S": "clmqej5xf0002mi8krkfmim02"
          },
          "NAME_OR_CONF": {
            "S": "NAME#19-09-0043"
          },
          "ConfirmationCode": {
            "S": "fb303d9e-3afd-4ef3-bfd8-fc4596f70223"
          },
          "CreatedAt": {
            "N": "1695139169449"
          },
          "FormSubmission": {
            "S": "{\"1\":\"\"}"
          },
          "FormSubmissionLanguage": {
            "S": "en"
          },
          "Name": {
            "S": "19-09-0043"
          },
          "SecurityAttribute": {
            "S": "Protected A"
          },
          "Status": {
            "S": "New"
          },
          "SubmissionID": {
            "S": "0043b060-73e4-4246-9b81-719156at007"
          },
          "FormSubmissionHash": {
            "S": "ce92c299bb5d344bdac1f9c03396b34f"
          }
        },
        "ApproximateCreationDateTime": 1428537600,
        "SequenceNumber": "4421584500000000017450439092",
        "SizeBytes": 59,
        "StreamViewType": "NEW_AND_OLD_IMAGES"
      },
      "eventSourceARN": "arn:aws:dynamodb:us-east-1:123456789012:table/ExampleTableWithStream/stream/2015-06-27T00:48:05.899"
    },
    {
      "eventID": "c81e728d9d4c2f636f067f89cc14862c",
      "eventName": "MODIFY",
      "eventVersion": "1.1",
      "eventSource": "aws:dynamodb",
      "awsRegion": "us-east-1",
      "dynamodb": {
        "Keys": {
          "Id": {
            "N": "101"
          }
        },
        "NewImage": {
          "FormID": {
            "S": "clmqej5xf0002mi8krkfmim02"
          },
          "NAME_OR_CONF": {
            "S": "NAME#19-09-0043"
          },
          "ConfirmationCode": {
            "S": "fb303d9e-3afd-4ef3-bfd8-fc4596f70223"
          },
          "CreatedAt": {
            "N": "1695139169449"
          },
          "FormSubmission": {
            "S": "{\"1\":\"\"}"
          },
          "FormSubmissionLanguage": {
            "S": "en"
          },
          "Name": {
            "S": "19-09-0043"
          },
          "SecurityAttribute": {
            "S": "Protected A"
          },
          "Status": {
            "S": "New"
          },
          "SubmissionID": {
            "S": "0043b060-73e4-4246-9b81-719156aft008"
          },
          "FormSubmissionHash": {
            "S": "ce92c299bb5d344bdac1f9c03396b34f"
          }
        },
        "OldImage": {
          "FormID": {
            "S": "clmqej5xf0002mi8krkfmim02"
          },
          "NAME_OR_CONF": {
            "S": "NAME#19-09-0043"
          },
          "ConfirmationCode": {
            "S": "fb303d9e-3afd-4ef3-bfd8-fc4596f70223"
          },
          "CreatedAt": {
            "N": "1695139169449"
          },
          "FormSubmission": {
            "S": "{\"1\":\"\"}"
          },
          "FormSubmissionLanguage": {
            "S": "en"
          },
          "Name": {
            "S": "19-09-0043"
          },
          "SecurityAttribute": {
            "S": "Protected A"
          },
          "Status": {
            "S": "New"
          },
          "SubmissionID": {
            "S": "0043b060-73e4-4246-9b81-719156at008"
          },
          "FormSubmissionHash": {
            "S": "ce92c299bb5d344bdac1f9c03396b34f"
          }
        },
        "ApproximateCreationDateTime": 1428537600,
        "SequenceNumber": "4421584500000000017450439092",
        "SizeBytes": 59,
        "StreamViewType": "NEW_AND_OLD_IMAGES"
      },
      "eventSourceARN": "arn:aws:dynamodb:us-east-1:123456789012:table/ExampleTableWithStream/stream/2015-06-27T00:48:05.899"
    },
    {
      "eventID": "eccbc87e4b5ce2fe28308fd9f2a7baf3",
      "eventName": "REMOVE",
      "eventVersion": "1.1",
      "eventSource": "aws:dynamodb",
      "awsRegion": "us-east-1",
      "dynamodb": {
        "Keys": {
          "Id": {
            "N": "101"
          }
        },
        "OldImage": {
          "FormID": {
            "S": "clmqej5xf0002mi8krkfmim02"
          },
          "NAME_OR_CONF": {
            "S": "NAME#19-09-0043"
          },
          "ConfirmationCode": {
            "S": "fb303d9e-3afd-4ef3-bfd8-fc4596f70223"
          },
          "CreatedAt": {
            "N": "1695139169449"
          },
          "FormSubmission": {
            "S": "{\"1\":\"\"}"
          },
          "FormSubmissionLanguage": {
            "S": "en"
          },
          "Name": {
            "S": "19-09-0043"
          },
          "SecurityAttribute": {
            "S": "Protected A"
          },
          "Status": {
            "S": "New"
          },
          "SubmissionID": {
            "S": "0043b060-73e4-4246-9b81-719156aftend"
          },
          "FormSubmissionHash": {
            "S": "ce92c299bb5d344bdac1f9c03396b34f"
          }
        },
        "ApproximateCreationDateTime": 1428537600,
        "SequenceNumber": "4421584500000000017450439093",
        "SizeBytes": 38,
        "StreamViewType": "NEW_AND_OLD_IMAGES"
      },
      "eventSourceARN": "arn:aws:dynamodb:us-east-1:123456789012:table/ExampleTableWithStream/stream/2015-06-27T00:48:05.899"
    }
  ]
}' | sam local invoke -t ./local_development/template.yml --event - "VaultDataIntegrityCheck"